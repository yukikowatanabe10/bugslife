# Categories 設計

## 概要

カテゴリーの管理を行う

### アクション

- 一覧
- 照会
- 作成
- 更新
- 削除
- 商品マスタとの紐付け更新

### 要件

- カテゴリーは名前、コード、表示順、説明を持つ
  - 名前
    - 必須
    - 20 文字以内
  - コード
    - 必須
    - 半角大文字アルファベット 3 文字 + ハイフン + 半角数字 3 文字の命名規則 (計 7 文字)
      - ex). FAT-999
  - 表示順
    - 数字
    - 一覧表示の順番に使用される
  - 説明
    - 任意
    - 300 文字以内
- 一覧画面
  - 登録されているカテゴリーの一覧テーブル表示
    - 詳細画面への遷移
    - 編集画面への遷移
    - 新規登録画面への遷移
    - 指定データの削除
    - 商品設定画面への遷移
      - ボタンホバー時に紐付けされている商品の一覧をツールチップ表示
- 照会画面
  - 指定したカテゴリーの詳細表示
    - 名前の表示
    - コードの表示
    - 説明の表示
    - 紐付け商品の表示
    - 編集画面への遷移
    - データの削除
    - 一覧画面への遷移
- 作成
  - 新規カテゴリーデータの作成
    - 作成後に商品紐付け画面へ遷移する
- 更新
  - 既存カテゴリーデータの更新
    - 更新後に商品紐付け画面へ遷移する
- 削除
  - データの削除
- 商品紐付け
  - 登録されている商品の一覧表示
    - チェックボックスを入れた商品との紐付け処理
    - 現在の紐付け情報の取得は/api/categories/{id}を GET 通信する
    - 紐付け情報の更新は/api/categories/{id}/updateCategoryProduct に POST 通信する
      - リクエストボディは JSON で形式は以下の通り
        - `{"productIds": [1, 2, 3]}`

## モデル

- Category

| `categories`  | Type    | memo |
| ------------- | ------- | ---- |
| name          | String  |      |
| code          | String  |      |
| display_order | Integer |      |
| description   | String  | TEXT |

- CategoryProduct

| `categories_products` | Type    | memo |
| --------------------- | ------- | ---- |
| category_id           | Integer |      |
| product_id            | Integer |      |
